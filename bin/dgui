#!/bin/sh
# Start up a generic docker gui ready container

# For running gui docker containers, this is dangerous on anything but a machine I completely control
xhost local:

# Some of the device info here may be machine specific
exec docker run --name dgui -h dgui \
    -e DISPLAY=$DISPLAY \
    -v /tmp/.X11-unix:/tmp/.X11-unix \
    -v /dev/shm:/dev/shm \
    -v /etc/machine-id:/etc/machine-id \
    -v /run/user/1000/pulse:/run/user/1000/pulse \
    -v /var/lib/dbus:/var/lib/dbus \
    -v /home/tim/.pulse:/home/tim/.pulse \
    --device /dev/dri/card0:/dev/dri/card0 \
    -i -t \
    ubuntu:15.10 \
    /bin/sh -c 'PULSE_SERVER=/var/run/user/1000/pulse/native /bin/bash'

